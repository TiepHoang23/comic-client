<header class="bg-white p-3 border-b-primary border-2">
  <div class="md:container mx-auto flex justify-between">
    <!-- Logo or brand name -->
    <a
      [routerLink]="['/']"
      class="text-primary-100 shrink-0 text-3xl font-bold size-lg hover:scale-125 duration-300 cursor-pointer ease-in-out bg-slate-200 rounded-full w-10 h-10 text-center"
    >
      N
    </a>

    <!-- Search input -->
    <div class="flex space-x-3 items-center">
      <list-search-comic />
      <svg
        (click)="themeService.ToggleTheme()"
        class="h-8 w-8 cursor-pointer bg-slate-100 lg:bg-slate-200 rounded-full p-1"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        stroke-width="2"
        stroke="currentColor"
        fill="none"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path stroke="none" d="M0 0h24v24H0z" />
        <circle cx="12" cy="12" r="3" />
        <line x1="12" y1="5" x2="12" y2="3" />
        <line x1="17" y1="7" x2="18.4" y2="5.6" />
        <line x1="19" y1="12" x2="21" y2="12" />
        <line x1="17" y1="17" x2="18.4" y2="18.4" />
        <line x1="12" y1="19" x2="12" y2="21" />
        <line x1="7" y1="17" x2="5.6" y2="18.4" />
        <line x1="6" y1="12" x2="4" y2="12" />
        <line x1="7" y1="7" x2="5.6" y2="5.6" />
      </svg>
      <!-- <img
        (click)="themeService.ToggleTheme()"
        alt=""
        src="assets/dark-mode.svg"
        class="w-7 h-7 cursor-pointer"
      /> -->

      <div class="relative flex items-center space-x-1 text-white h-8">
        <button
          *ngIf="!user"
          class="md:hidden flex items-center bg-gray-200 p-1 rounded-full text-secondary-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"
          (click)="toggleButtons()"
        >
          <svg
            class="h-6 w-6"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
            />
          </svg>
        </button>

        <div
          *ngIf="showButtons && screenWidth < 768"
          class="absolute top-10 right-0 bg-white rounded-lg shadow-lg p-2 space-y-1 min-w-40 z-50"
        >
          <button
            class="flex w-full justify-center lg:w-auto items-center bg-gray-800 border border-gray-300 rounded-lg shadow-md px-3 py-2 text-sm font-medium text-white hover:bg-amber-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"
            (click)="onLoginClick()"
          >
            Đăng nhập
          </button>
          <button
            class="flex items-center w-full justify-center lg:w-auto bg-white border border-gray-300 rounded-lg shadow-md px-3 py-2 text-sm font-medium text-gray-800 hover:text-amber-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"
            (click)="onRegisterClick()"
          >
            Đăng ký
          </button>
        </div>

        <div
          *ngIf="screenWidth >= 768 && !user"
          class="hidden md:flex space-x-1"
        >
          <button
            class="flex items-center bg-gray-800 border border-gray-300 rounded-l-lg shadow-md px-3 py-2 text-sm font-medium text-white hover:bg-amber-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"
            (click)="onLoginClick()"
          >
            <i class="fas fa-sign-in-alt mr-2"></i>
            <span>Đăng nhập</span>
          </button>
          <button
            class="flex items-center bg-white border border-gray-300 rounded-r-lg shadow-md px-3 py-2 text-sm font-medium text-gray-800 hover:text-amber-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"
            (click)="onRegisterClick()"
          >
            <i class="fas fa-user-plus mr-2"></i>
            <span>Đăng ký</span>
          </button>
        </div>
      </div>

      <div
        *ngIf="user"
        (click)="onUserClick()"
        class="flex cursor-pointer text-sm relative bg-gray-800 rounded-full md:me-0 focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600"
      >
        <img class="w-10 h-10 rounded-full" [src]="avatar" alt="user photo" />
        <div class="relative" [ngClass]="{ hidden: !showaccount }">
          <div
            [@showHide]="showaccount ? 'visible' : 'hidden'"
            class="transition-all min-w-48 overflow-hidden z-[100] mt-10 absolute right-0 text-base list-none bg-white divide-y divide-gray-100 rounded-lg shadow dark:bg-gray-700 dark:divide-gray-600"
          >
            <div class="px-4 py-3 bg-white">
              <span class="block text-sm text-gray-900 dark:text-white">
                {{ user.firstName }}
              </span>
            </div>
            <ul class="py-2 bg-white">
              <li>
                <a
                  [routerLink]="['/tai-khoan']"
                  class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"
                  >Trang cá nhân</a
                >
              </li>
              <li>
                <a
                  [routerLink]="['/theo-doi']"
                  class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"
                  >Theo dõi</a
                >
              </li>
              <li>
                <a
                  href="#"
                  class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"
                  >Cài đặt</a
                >
              </li>

              <li>
                <a
                  href="/"
                  (click)="onLogoutClick()"
                  class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"
                  >Đăng xuất</a
                >
              </li>
            </ul>
          </div>
          <div
            class="fixed bg-black opacity-50 top-0 left-0 w-full h-full z-40"
          ></div>
        </div>
      </div>
    </div>
  </div>
</header>
<!-- Navigation links -->

<nav class="bg-primary-100 text-sm text-white hidden md:block">
  <ul
    class="h-10 flex items-center mx-auto container rounded"
    itemscope=""
    itemtype="http://www.schema.org/SiteNavigationElement"
  >
    <li class="h-full hover:bg-white rounded-t-lg">
      <a
        routerLink="/"
        class="px-4 h-full hover:bg-[#fff] hover:fill-black items-center flex fill-white rounded-t-lg"
        ><svg
          xmlns="http://www.w3.org/2000/svg"
          height="16"
          width="18"
          viewBox="0 0 576 512"
        >
          <path
            d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"
          ></path>
        </svg>
      </a>
    </li>
    <li
      class="h-full hover:bg-white hover:text-[#000000] fill-white hover:fill-black rounded-t-lg"
    >
      <div class="cursor-pointer px-3 h-full items-center flex relative group">
        <span class="flex items-center font-semibold gap-1">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="14"
            width="12.25"
            viewBox="0 0 448 512"
          >
            <path
              d="M159.3 5.4c7.8-7.3 19.9-7.2 27.7 .1c27.6 25.9 53.5 53.8 77.7 84c11-14.4 23.5-30.1 37-42.9c7.9-7.4 20.1-7.4 28 .1c34.6 33 63.9 76.6 84.5 118c20.3 40.8 33.8 82.5 33.8 111.9C448 404.2 348.2 512 224 512C98.4 512 0 404.1 0 276.5c0-38.4 17.8-85.3 45.4-131.7C73.3 97.7 112.7 48.6 159.3 5.4zM225.7 416c25.3 0 47.7-7 68.8-21c42.1-29.4 53.4-88.2 28.1-134.4c-4.5-9-16-9.6-22.5-2l-25.2 29.3c-6.6 7.6-18.5 7.4-24.7-.5c-16.5-21-46-58.5-62.8-79.8c-6.3-8-18.3-8.1-24.7-.1c-33.8 42.5-50.8 69.3-50.8 99.4C112 375.4 162.6 416 225.7 416z"
            />
          </svg>
          Hot</span
        >
      </div>
    </li>
    <li class="h-full hover:bg-white rounded-t-lg">
      <div
        class="cursor-pointer px-3 h-full hover:fill-black fill-white items-center flex hover:text-[#000000] relative group gap-1"
      >
        <span class="flex items-center font-semibold">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="14"
            width="14"
            viewBox="0 0 512 512"
          >
            <path
              d="M345 39.1L472.8 168.4c52.4 53 52.4 138.2 0 191.2L360.8 472.9c-9.3 9.4-24.5 9.5-33.9 .2s-9.5-24.5-.2-33.9L438.6 325.9c33.9-34.3 33.9-89.4 0-123.7L310.9 72.9c-9.3-9.4-9.2-24.6 .2-33.9s24.6-9.2 33.9 .2zM0 229.5V80C0 53.5 21.5 32 48 32H197.5c17 0 33.3 6.7 45.3 18.7l168 168c25 25 25 65.5 0 90.5L277.3 442.7c-25 25-65.5 25-90.5 0l-168-168C6.7 262.7 0 246.5 0 229.5zM144 144a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"
            />
          </svg>
          Thể Loại</span
        >
        <div
          *ngIf="listGenres"
          class="absolute top-full left-0 hidden group-hover:flex bg-white z-20 shadow-sm border border-solid border-[#fabb00]"
        >
          <app-genre-catagories
            [listGenres]="listGenres"
          ></app-genre-catagories>
        </div>
      </div>
    </li>
    <li class="h-full hover:bg-white font-semibold rounded-t-lg">
      <a
        [routerLink]="['/theo-doi']"
        class="px-3 h-full hover:bg-[#fff] items-center flex hover:text-[#000000] hover:fill-black fill-white rounded-t-lg"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          height="14"
          width="15.75"
          viewBox="0 0 576 512"
        >
          <path
            d="M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9l2.6-2.4C267.2 438.6 256 404.6 256 368c0-97.2 78.8-176 176-176c28.3 0 55 6.7 78.7 18.5c.9-6.5 1.3-13 1.3-19.6v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5zM432 512a144 144 0 1 0 0-288 144 144 0 1 0 0 288zm16-208v48h48c8.8 0 16 7.2 16 16s-7.2 16-16 16H448v48c0 8.8-7.2 16-16 16s-16-7.2-16-16V384H368c-8.8 0-16-7.2-16-16s7.2-16 16-16h48V304c0-8.8 7.2-16 16-16s16 7.2 16 16z"
          />
        </svg>
        Theo dõi</a
      >
    </li>
    <li class="h-full hover:bg-white font-semibold rounded-t-lg">
      <a
        [routerLink]="['/xep-hang']"
        class="px-3 h-full hover:bg-[#fff] items-center flex hover:text-[#000000] fill-white rounded-t-lg"
        ><svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="w-5 h-5 mr-1"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"
          ></path></svg
        >Xếp Hạng</a
      >
    </li>
    <li class="h-full hover:bg-white font-semibold rounded-t-lg">
      <a
        routerLink="/tim-truyen"
        class="px-3 h-full hover:bg-[#fff] items-center flex hover:text-[#000000] rounded-t-lg"
        ><svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="2.5"
          stroke="currentColor"
          class="w-5 h-5"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"
          ></path></svg
        >Tìm Kiếm Nâng Cao</a
      >
    </li>

    <li class="h-full hover:bg-white font-semibold rounded">
      <a
        routerLink="lich-su"
        class="px-3 h-full hover:bg-[#fff] items-center flex hover:text-[#000000] hover:fill-[#000000] fill-white gap-1 rounded-t-lg"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          height="14"
          width="14"
          viewBox="0 0 512 512"
        >
          <path
            d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"
          />
        </svg>
        Lịch sử</a
      >
    </li>
    <!--Begin Notification User follow -->
    <li *ngIf="user" class="h-full ml-auto">
      <app-notify></app-notify>
    </li>
    <!--End Notification User follow -->
  </ul>
</nav>
<nav
  class="relative bg-primary-100 text-sm text-white md:hidden flex flex-col items-center"
>
  <div class="flex items-center mx-auto px-3 h-10 w-full">
    <div class="flex items-center gap-1">
      <svg
        class="h-6 w-6"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        stroke-width="2"
        stroke="currentColor"
        fill="none"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path stroke="none" d="M0 0h24v24H0z" />
        <polyline points="5 12 3 12 12 3 21 12 19 12" />
        <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
        <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
      </svg>

      <span class="text-sm font-medium">
        <a [routerLink]="['/']">Trang chủ</a></span
      >
    </div>

    <div
      class="ml-auto border-2 rounded-lg cursor-pointer"
      (click)="toggleSidebar()"
    >
      <svg
        *ngIf="!this.showslidebar"
        class="h-8 w-8 text-white"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M4 6h16M4 12h16M4 18h7"
        />
      </svg>
      <svg
        *ngIf="this.showslidebar"
        class="h-8 w-8 text-white"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M6 18L18 6M6 6l12 12"
        />
      </svg>
    </div>
  </div>
  <div
    class="w-full bg-white text-secondary-100 border-t transition-[height] duration-200 overflow-hidden"
    style="height: 0px"
    #dropdownNavbar
  >
    <div class="flex h-10 text-sm">
      <a
        [routerLink]="['/tim-kiem-nang-cao']"
        class="px-3 h-full w-full hover:bg-white items-center flex hover:text-secondary-100 gap-1"
      >
        <svg
          class="h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"
          />
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2.5"
            d="M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z"
          />
        </svg>

        Hot</a
      >
    </div>
    <div class="flex h-10 text-sm">
      <a
        href="https://www.facebook.com/groups/doctruyenonline.vn"
        target="blank"
        class="px-3 h-full w-full hover:bg-[#fff] items-center flex hover:text-[#be8c28]"
      >
        <svg
          class="h-6 w-6"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          stroke-width="2"
          stroke="currentColor"
          fill="none"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path stroke="none" d="M0 0h24v24H0z" />
          <path
            d="M11 3L20 12a1.5 1.5 0 0 1 0 2L14 20a1.5 1.5 0 0 1 -2 0L3 11v-4a4 4 0 0 1 4 -4h4"
          />
          <circle cx="9" cy="9" r="2" />
        </svg>
        Thể loại</a
      >
    </div>
    <div class="flex h-10 text-sm">
      <a
        [routerLink]="['/theo-doi']"
        class="px-3 h-full w-full hover:bg-[#fff] items-center flex gap-1"
      >
        <svg
          class="h-6 w-6"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          stroke-width="2"
          stroke="currentColor"
          fill="none"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path stroke="none" d="M0 0h24v24H0z" />
          <path
            d="M12 20l-7 -7a4 4 0 0 1 6.5 -6a.9 .9 0 0 0 1 0a4 4 0 0 1 6.5 6l-7 7"
          />
        </svg>
        Theo dõi</a
      >
    </div>
    <div class="flex h-10 text-sm">
      <a
        [routerLink]="['/xep-hang']"
        class="px-3 h-full w-full hover:bg-[#fff] items-center flex gap-1"
      >
        <svg
          class="h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"
          />
        </svg>

        Xếp hạng</a
      >
    </div>
    <div class="flex h-10 text-sm">
      <a
        [routerLink]="['/tim-truyen']"
        target="blank"
        class="px-3 h-full w-full items-center flex"
      >
        <svg
          class="h-6 w-6"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <circle cx="11" cy="11" r="8" />
          <line x1="21" y1="21" x2="16.65" y2="16.65" />
        </svg>
        Tìm kiếm nâng cao</a
      >
    </div>
    <div class="flex h-10 text-sm">
      <a
        [routerLink]="['/lich-su']"
        target="blank"
        class="px-3 h-full w-full hover:bg-[#fff] items-center flex gap-1"
      >
        <svg
          class="h-6 w-6"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          stroke-width="2"
          stroke="currentColor"
          fill="none"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path stroke="none" d="M0 0h24v24H0z" />
          <polyline points="12 8 12 12 14 14" />
          <path d="M3.05 11a9 9 0 1 1 .5 4m-.5 5v-5h5" />
        </svg>
        Lịch sử</a
      >
    </div>
  </div>
</nav>
